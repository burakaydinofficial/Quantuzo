FROM python:3.11-slim

RUN apt-get update && apt-get install -y \
    git \
    curl \
    && rm -rf /var/lib/apt/lists/*

WORKDIR /app

# Install dependencies
RUN pip install --no-cache-dir \
    openai \
    requests \
    datasets \
    huggingface_hub

# Create results directory mount point
RUN mkdir -p /results

# Copy the agent runner script
COPY scripts/run_swe_agent.py /app/run_swe_agent.py

ENTRYPOINT ["python", "/app/run_swe_agent.py"]
